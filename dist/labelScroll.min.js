/* Labelscroll - v0.0.1 
* 2014-09-20 by Roberto Serra <obi.serra@gmail.com>
* Licensed (MIT) 2014  */
var LabelScroll=function(){"use strict";function a(){var a=document.createElement("div");return a.id="labelScroll-element",a.innerHTML=j.defaultText,j.node=a,a}function b(){var a,b,c=j.sections.length,d=!1;for(a=0;c>a;a++)b=j.sections[a],j.elementPos>b.offsetTop&&(a===c-1||j.elementPos<j.sections[a+1].offsetTop)&&(j.element.innerHTML=b.getAttribute("data-labelscroll"),d=!0);d||(j.element.innerHTML=j.defaultText)}function c(){var b=a();j.element=b,document.body.appendChild(b)}function d(){var a=j.top,b=Math.floor(j.top/j.winH*100),c=a+j.docH*b/100,d=j.winH/j.docH;c+=d,j.elementPos=c,j.element.style.top=c+"px"}function e(){j.element.className=Math.abs(j.speed)<2?"labelScroll-hidden":""}function f(){var a=document.body,b=document.documentElement;j.winH=Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight),j.docH=Math.max(document.documentElement.clientHeight,window.innerHeight||0)}function g(){j.speed=k-j.top,k=j.top,e()}function h(){k=j.top,j.top=document.documentElement.scrollTop||document.body.scrollTop}function i(){h(),g(),d(),b()}var j={top:0,winH:0,docH:0,speed:0,elementPos:0,sections:document.querySelectorAll("[data-labelscroll]"),defaultText:"......"},k=0;return j.init=function(){f(),c(),setInterval(g,500),window.onscroll=i,console.log("Init")},j};